<!DOCTYPE html>
{% load static %}

<html lang="pt">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Página Web</title>
    <link rel="stylesheet" href='{% static "/css/anotar.css" %}?{% now "U" %}'>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body class="fundo_pagina">
    <div class="caixa_principal">
      <header class="cabecalho">
        <img src="{% static 'img/logo.png' %}" alt="Logo" class="logo" />
        <h1 class="titulo">Faça Anotações</h1>
        {% if erro %}
          <div class="alert alert-danger">
            <p>{{ erro }}</p>
          </div>
        {% endif %}
      </header>

      <main class="conteudo">
        <div class="card">
          <div class="botoes_acao">
            <form method="POST" action="{% url 'notas:anotar' %}">
              {% csrf_token %}
              <label for="conteudo">Escreva sua anotação:</label><br />
              <textarea name="conteudo" id="conteudo" class="notas" required></textarea>
              <button class="botao" type="submit">Salvar Anotação</button><br>
            </form>


            <ul>
              {% for nota in notas %}
              <li>
                <span style="color: #25460B; font-weight: 500;">{{ nota.conteudo }}</span> -
                <em>{{ nota.data_criacao|date:"d/m/Y H:i:s" }}</em>
                <a class="botao" href="{% url 'notas:editar_nota' nota.id %}"><i class="fas fa-edit">‎ Editar</i></a>
                <a style="color: black; background-color: rgb(255, 255, 255);" class="botao" href="{% url 'notas:remover_nota' nota.id %}"><i class="fas fa-trash-alt">‎ Deletar</i></a><br>
              </li>
              {% empty %}
              <div class="text-no">
                <li>Você ainda não tem anotações.</li>
              </div>
              {% endfor %}
            </ul>
          </div>
        </div>
      </main>

      <footer class="rodape">
        <a href="{% url 'crops:pesquisar_cultura' %}"
          ><button class="icone_rodape"><i class="fas fa-heart"></i></button
        ></a>
        <a href="{% url 'crops:task_create'%}"
          ><button class="icone_rodape"><i class="fas fa-plus"></i></button
        ></a>
        <a href="{% url 'crops:home'%}"
          ><button class="icone_rodape"><i class="fas fa-home"></i></button
        ></a>
        <a href="{% url 'crops:praga' %}"
          ><button class="icone_rodape"><i class="fas fa-bug"></i></button
        ></a>
        <a href="{% url 'notas:meu_perfil'%}"
          ><button class="icone_rodape"><i class="fas fa-cog"></i></button
        ></a>
      </footer>
    </div>
  </body>

  <script>
    function validateForm() {
      var conteudo = document.getElementById("conteudo").value;
      if (conteudo.trim() === "") {
        alert("O conteúdo não pode estar vazio.");
        return false; // Impede o envio do formulário
      }
      return true;
    }
  </script>
</html>
